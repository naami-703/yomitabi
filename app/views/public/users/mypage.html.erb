<div class="container">
  <div class="row d-flex justify-content-center">
    <div class="col-md-3 p-3">
      <h3 class="h3_text">マイページ</h3>
    </div>
    <div class="col-md-2 p-3">
      <div class="profile_image">
        <%= image_tag @user.get_profile_image(150, 150) %>
      </div>
    </div>
    <div class="col-md-5 p-3">
      <table class="profile_table">
        <tr>
          <td class="title">ユーザー名</td>
          <td class="title"><%= @user.name %></td>
        </tr>
        <tr>
          <td class="title">自己紹介</td>
          <td class="body"><%= @user.introduction %></td>
        </tr>
        <tr>
        <td class="title">好きな本</td>
        <td class="body"><%= @user.favorite_books %></td>
        </tr>
      </table>
    </div>
    <div class="col-md-2 p-3">
      <span><i class="fa-solid fa-people-arrows"></i> フォロー数：</span><br>
      <span><i class="fa-solid fa-people-arrows"></i> フォロワー数：</span><br><br>
      <%= link_to "<i class='fa-solid fa-gears'></i> 編集する".html_safe, edit_user_path(current_user), class: "nav_button" %><br>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12 ">
      
      <div class="tabs d-flex justify-content-between align-items-center">
        <ul class="nav nav-tabs">
          <li class="nav-item">
            <a class="nav-link active" data-toggle="tab" href="#book_index"><i class="fa-solid fa-book"></i> 書籍</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#spot_index"><i class="fa-solid fa-location-pin"></i> スポット</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#book_comment_index"><i class="fa-solid fa-comment"></i> 感想</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#spot_comment_index"><i class="fa-solid fa-comment"></i> コメント</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#bookmar_index"><i class="fa-solid fa-bookmark"></i> ブックマーク</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#want_to_go_index"><i class="fa-solid fa-face-grin-hearts"></i> 行きたい！</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#went_index"><i class="fa-solid fa-thumbs-up"></i> 行ったよ！</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#follow_index"><i class="fa-solid fa-people-arrows"></i> フォロー</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#follower_index"><i class="fa-solid fa-people-arrows"></i> フォロワー</a>
          </li>
        </ul>
      </div>

      <!-- 書籍投稿一覧 -->
      <div class="tab-content">
        <div id="book_index" class="tab-pane fade show active">
          <div class="row">
            <div class="col-md-12">
              <div class="row"> 
                <%= render "temp/book_list", books: @books_new %>
              </div>
            </div>
          </div>
        </div>

        <!-- スポット投稿一覧 -->
        <div id="spot_index" class="tab-pane fade">
          <div class="row">
            <div class="col-md-12">
              <div class="row"> 
                <%= render "temp/spot_list", spots: @spots_new %>
              </div>
            </div>
          </div>
        </div>

        <div id="book_comment_index" class="tab-pane fade">
        <% @comments_book.each do |comment| %>
          <%= render partial: "temp/book_comment_index", locals: { book: comment.book, comment: comment, user: @user, context: "mypage" } %>
        <% end %>
        </div>
        
        <div id="sopt_comment_index" class="tab-pane fade">
          コメント一覧
        </div>


        <div id="bookmark_index" class="tab-pane fade">
          <%= render "temp/bookmark_index" %>
        </div>

        <div id="want_to_go_index" class="tab-pane fade">
          <%= render "temp/want_to_go_index" %>
        </div>

        <div id="went_index" class="tab-pane fade">
          <%= render "temp/went_index" %>
        </div>

        <div id="follow_index" class="tab-pane fade">
          フォロー一覧
        </div>

        <div id="follower_index" class="tab-pane fade">
          フォロワー一覧
        </div>

      </div>
    </div>
  </div>
</div>
