<div class="container">
  <div class="row d-flex justify-content-center">
    <div class="col-md-3 p-3">
      <h4 class="h4_text">マイページ</h4>
        <br><br>
        <%= link_to "<i class='fa-solid fa-gears'></i> 会員情報編集".html_safe, edit_user_path(current_user), class: "nav_button" %>
    </div>

    <!-- プロフィール画像 -->
    <div class="col-md-2 p-3">
      <div class="profile_image">
        <%= image_tag @user.get_profile_image(150, 150) %>
      </div>
    </div>

    <!-- プロフィール紹介 -->
    <div class="col-md-5 p-3">
      <table class="profile_table">
        <tr>
          <td>ユーザー名</td>
          <td><%= @user.name %></td>
        </tr>
        <tr>
          <td>自己紹介</td>
          <td><%= @user.introduction %></td>
        </tr>
        <tr>
        <td>好きな本</td>
        <td ><%= @user.favorite_books %></td>
        </tr>
      </table>
    </div>
    
    <!-- フォロー・フォロワー -->
    <div class="col-md-2 mt-4">
      <table>
        <tr>
          <td><b>フォロー数：<%= @user.followings.count %></b></td>
        </tr>
        <tr>
          <td><b>フォロワー数：<%= @user.followers.count %></b></td>
        </tr>
      </table>
    </div>

  <div class="row">
    <div class="col-md-12 ">
      
      <div class="tabs d-flex justify-content-between align-items-center">
        <ul class="nav nav-tabs">
          <li class="nav-item">
            <a class="nav-link active" data-bs-toggle="tab" href="#book_index"><i class="fa-solid fa-book"></i> 書籍投稿</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-bs-toggle="tab" href="#spot_index"><i class="fa-solid fa-location-pin"></i> スポット投稿</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-bs-toggle="tab" href="#book_comment_index"><i class="fa-solid fa-comment"></i> 感想</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-bs-toggle="tab" href="#spot_comment_index"><i class="fa-solid fa-comment"></i> コメント</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-bs-toggle="tab" href="#bookmark_index"><i class="fa-solid fa-bookmark"></i> ブックマーク</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-bs-toggle="tab" href="#want_to_go_index"><i class="fa-solid fa-face-grin-hearts"></i> 行きたい！</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-bs-toggle="tab" href="#went_index"><i class="fa-solid fa-thumbs-up"></i> 行ったよ！</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-bs-toggle="tab" href="#follow_index"><i class="fa-solid fa-people-arrows"></i> フォロー</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-bs-toggle="tab" href="#follower_index"><i class="fa-solid fa-people-arrows"></i> フォロワー</a>
          </li>
        </ul>
      </div>

      <!-- 書籍投稿一覧 -->
      <div class="tab-content">
        <div id="book_index" class="tab-pane fade show active">
          <div class="row">
            <div class="col-md-12">
              <div class="row"> 
                <%= render "temp/book_list", books: @books_new %>
              </div>
            </div>
          </div>
        </div>

        <!-- スポット投稿一覧 -->
        <div id="spot_index" class="tab-pane fade">
          <div class="row">
            <div class="col-md-12">
              <div class="row"> 
                <%= render "temp/spot_list", spots: @spots_new %>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 感想投稿一覧 -->
        <div id="book_comment_index" class="tab-pane fade">
          <%= render 'temp/book_comment_index', comments: @comments_book, user: @user %>
        </div>
        
        <!-- コメント投稿一覧 -->
        <div id="spot_comment_index" class="tab-pane fade">
           <%= render 'temp/spot_comment_index', comments: @comments_spot %>
        </div>

        <!-- ブックマーク一覧 -->
        <div id="bookmark_index" class="tab-pane fade">
          <%= render "temp/bookmark_index", bookmarks_selected: @bookmarks_selected %>
        </div>

        <!-- 行きたい！一覧 -->
        <div id="want_to_go_index" class="tab-pane fade">
          <%= render "temp/want_to_go_index", want_to_gos_selected: @want_to_gos_selected %>
        </div>

        <!-- 行ったよ！一覧 -->
        <div id="went_index" class="tab-pane fade">
          <%= render "temp/went_index", wents_selected: @wents_selected %>
        </div>

        <!-- フォロー一覧 -->
        <div id="follow_index" class="tab-pane fade">
          <%= render "temp/follow_list", users: @followings_users %>
        </div>

        <!-- フォロワー一覧 -->
        <div id="follower_index" class="tab-pane fade">
          <%= render "temp/follow_list", users: @followers_users %>
        </div>

      </div>
    </div>
  </div>
</div>
